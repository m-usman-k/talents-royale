{% extends "base.html" %}

{% block title %}Sign In - Talents Royale{% endblock %}

{% load static %}

{% block content %}
    <link rel="stylesheet" href="{% static 'css/signin.css' %}">
    <script src="{% static 'scripts/signin-animations.js' %}" defer></script>
    
    <section class="signin-hero">
        <div class="hero-background">
            <img src="/static/images/tr-blue-bg.png" alt="Sign In Background"/>
        </div>
        
        <div class="signin-container">
            <div class="signin-content">
                <div class="crown-icon">
                    <img src="/static/images/tr-blue-crown.png" alt="Crown Icon">
                </div>
                <h1>Signin</h1>
                
                <form class="signin-form" method="post">
                    {% csrf_token %}
                    
                    {% if form.non_field_errors %}
                        <div class="form-errors">
                            {{ form.non_field_errors }}
                        </div>
                    {% endif %}
                    
                    {% if show_resend_option and unconfirmed_email %}
                        <div class="email-confirmation-alert">
                            <div class="alert-icon">‚úâÔ∏è</div>
                            <div class="alert-content">
                                <h3>Email Not Confirmed</h3>
                                <p>Please confirm your email address (<strong>{{ unconfirmed_email }}</strong>) before logging in.</p>
                                <p class="alert-subtext">Check your inbox for the confirmation email, or click below to resend it.</p>
                            </div>
                            <form method="post" style="width: 100%; margin-top: 1rem;">
                                {% csrf_token %}
                                <input type="hidden" name="resend_confirmation" value="1">
                                <input type="hidden" name="username" value="{{ username }}">
                                <button type="submit" class="resend-confirmation-button">
                                    <span>üìß</span> Resend Confirmation Email
                                </button>
                            </form>
                        </div>
                    {% endif %}
                    
                    <div class="form-group">
                        {{ form.username }}
                        {% if form.username.errors %}
                            <div class="field-errors">{{ form.username.errors }}</div>
                        {% endif %}
                    </div>
                    
                    <div class="form-group">
                        {{ form.password }}
                        {% if form.password.errors %}
                            <div class="field-errors">{{ form.password.errors }}</div>
                        {% endif %}
                    </div>
                    
                    <button type="submit" class="login-button">Login</button>
                    
                    <div class="forgot-password">
                        <a href="{% url 'forgot_password' %}" class="forgot-link">Forgot Password?</a>
                    </div>
                    
                    <div class="signup-link">
                        <p>Don't have an account? <a href="/signup" class="signup-link-text">Sign Up</a></p>
                    </div>
                    
                    
                </form>
            </div>
        </div>
    </section>
{% endblock %}
